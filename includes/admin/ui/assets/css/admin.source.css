@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
    /* Accordion styles */
    /* Hide default summary marker */
    details summary::-webkit-details-marker {
        display: none;
    }
    details summary::marker {
        display: none;
    }
    /* Rotate chevron when open */
    details[open] summary .aa-chevron {
        transform: rotate(180deg);
    }
    /* Smooth transition for content */
    details > div {
        transition: opacity 0.2s ease-in-out;
    }

    /* ═══════════════════════════════════════════════════════════════
       CARD SYSTEM - Collapsible cards with overlay
    ═══════════════════════════════════════════════════════════════ */
    
    /* Card container - relative for overlay positioning */
    [data-aa-card] {
        @apply relative bg-white border border-gray-200 rounded-lg mb-2;
    }

    /* Card header - clickable toggle */
    [data-aa-card-toggle] {
        @apply px-4 py-3 cursor-pointer select-none;
        @apply text-gray-900 font-medium;
        @apply hover:bg-gray-50 transition-colors;
        @apply flex items-center justify-between;
    }

    /* Chevron indicator for card toggle */
    [data-aa-card-toggle]::after {
        content: '';
        @apply w-2 h-2 border-r-2 border-b-2 border-gray-400;
        @apply transform rotate-45 transition-transform duration-200;
    }

    [data-aa-card].is-open [data-aa-card-toggle]::after {
        @apply -rotate-[135deg];
    }

    /* Overlay - hidden by default, positioned absolutely */
    .aa-card-overlay {
        @apply hidden absolute left-0 right-0 top-full z-50;
        @apply bg-white border border-gray-200 border-t-0 rounded-b-lg shadow-lg;
    }

    /* Show overlay when card is open */
    [data-aa-card].is-open .aa-card-overlay {
        @apply block;
    }

    /* Card body inside overlay */
    .aa-card-body {
        @apply px-4 py-3 text-sm text-gray-600;
    }

    .aa-card-body > div {
        @apply py-1;
    }

    /* Grid container for cards - allow overflow for overlays */
    .aa-clients-grid {
        @apply relative;
        overflow: visible !important;
    }

    /* Action bar for clients module */
    .aa-clients-action-bar {
        @apply flex flex-wrap items-center gap-3 mb-4;
    }

    .aa-clients-search-input {
        @apply flex-1 min-w-[200px] px-3 py-2 text-sm;
        @apply border border-gray-300 rounded-lg;
        @apply focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none;
    }

    .aa-clients-new-button {
        @apply px-4 py-2 text-sm font-medium;
        @apply bg-blue-600 hover:bg-blue-700 text-white;
        @apply rounded-lg transition-colors;
    }

    .aa-clients-pagination {
        @apply flex items-center gap-1;
    }

    .aa-clients-pagination-button {
        @apply w-8 h-8 flex items-center justify-center;
        @apply text-gray-600 hover:bg-gray-100 rounded;
        @apply disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent;
    }

    /* Edit button inside client cards */
    .aa-btn-editar-cliente {
        @apply mt-3 px-3 py-1.5 text-sm;
        @apply inline-flex items-center gap-1.5;
        @apply text-blue-600 hover:text-blue-700 hover:bg-blue-50;
        @apply border border-blue-200 rounded-md;
        @apply transition-colors cursor-pointer;
    }

    .aa-btn-editar-cliente svg {
        @apply w-4 h-4;
    }

    /* ═══════════════════════════════════════════════════════════════
       MODAL SYSTEM - Basic functional styles
    ═══════════════════════════════════════════════════════════════ */
    
    /* Modal root - fullscreen overlay container */
    .aa-modal-root {
        @apply fixed inset-0 z-[9999] flex items-center justify-center;
    }

    .aa-modal-root.hidden {
        display: none;
    }

    /* Overlay backdrop */
    .aa-modal-overlay {
        @apply absolute inset-0 bg-black/50;
    }

    /* Modal container */
    .aa-modal {
        @apply relative bg-white rounded-lg shadow-xl w-full max-w-md mx-4 max-h-[90vh] overflow-auto;
    }

    /* Modal header */
    .aa-modal-header {
        @apply flex items-center justify-between px-4 py-3 border-b border-gray-200;
    }

    .aa-modal-title {
        @apply text-lg font-semibold text-gray-900 m-0;
    }

    .aa-modal-close {
        @apply p-1 text-gray-400 hover:text-gray-600 rounded transition-colors;
    }

    /* Modal body */
    .aa-modal-body {
        @apply px-4 py-4;
    }

    /* Modal footer */
    .aa-modal-footer {
        @apply px-4 py-3 border-t border-gray-200 bg-gray-50;
    }

    .aa-modal-footer:empty {
        @apply hidden;
    }

    /* Block body scroll when modal is open */
    body.aa-modal-open {
        @apply overflow-hidden;
    }

    /* ═══════════════════════════════════════════════════════════════
       FORM STYLES - Basic form elements for modals
    ═══════════════════════════════════════════════════════════════ */
    
    .aa-form-group {
        @apply mb-4;
    }

    .aa-form-group label {
        @apply block text-sm font-medium text-gray-700 mb-1;
    }

    .aa-form-group input {
        @apply w-full px-3 py-2 border border-gray-300 rounded-md text-sm;
        @apply focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none;
    }

    .aa-modal-actions {
        @apply flex justify-end gap-2;
    }

    .aa-btn-cancelar {
        @apply px-4 py-2 text-sm text-gray-600 hover:text-gray-800 rounded-md transition-colors;
    }

    .aa-btn-guardar {
        @apply px-4 py-2 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors;
    }

    .aa-btn-guardar:disabled {
        @apply bg-blue-400 cursor-not-allowed;
    }

    /* Form status messages */
    .aa-form-status {
        @apply p-2 rounded text-sm mt-2;
    }

    .aa-form-error {
        @apply bg-red-50 text-red-700 border border-red-200;
    }

    .aa-form-success {
        @apply bg-green-50 text-green-700 border border-green-200;
    }
}

